{% load static %}
<head>
      <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Purefit - Health Supplement Landing Page</title>
    <link rel="stylesheet" href="{% static 'assets/css/signup.css' %}">
</head>

<div class="container right-panel-active">
	<!-- Sign Up -->
	<div class="container__form container--signup">
		<form action="{% url 'signup' %}" method="POST" class="form" id="form1" enctype="multipart/form-data">
        {% csrf_token %}
			<h2 class="form__title">Sign Up</h2>
			<input name="username" type="text" placeholder="User" class="input" />
			<input name="email" type="email" placeholder="Email" class="input" />
			<input name="password" type="password" placeholder="Password" class="input" />
			<input name="checkPassword" type="password" placeholder="checkPassword" class="input" />
              <div class="col-12">
                                <div class="xb-item--field">
                                    <small>Attach Cover Photo</small>
                                    <div class="ms-upload-file image-upload">
                                        <input type="file" name="profile_image" accept="image/*" onchange="previewImage(event)" />
                                        <i class="fas fa-plus"></i>
                                    </div>
                                </div>
                </div>
			<button type="submit" class="btn">Sign Up</button>
		</form>
	</div>

	<!-- Sign In -->
	<!-- Sign In -->
        <div class="container__form container--signin">
            <form action="{% url 'loginuser' %}" method="POST" class="form" id="form2" enctype="multipart/form-data"> <!-- Updated action to use login URL -->
                {% csrf_token %}
                <h2 class="form__title">Sign In</h2>
			    <input name="username" type="text" placeholder="User" class="input" required />
                <input name="password" type="password" placeholder="Password" class="input"  /> <!-- Added name attribute -->
                <a href="#" class="link">Forgot your password?</a>
                <button type="submit" class="btn">Sign In</button> <!-- Added type="submit" -->
            </form>
        </div>


	<!-- Overlay -->
	<div class="container__overlay">
		<div class="overlay">
			<div class="overlay__panel overlay--left">
				<button class="btn" id="signIn">Sign In</button>
			</div>
			<div class="overlay__panel overlay--right">
				<button class="btn" id="signUp">Sign Up</button>
			</div>
		</div>
	</div>
</div>
 <script>
    function previewImage(event) {
        const file = event.target.files[0]; // Get the selected file
        const reader = new FileReader(); // Create a FileReader object

        reader.onload = function(e) {
            const imageUpload = document.querySelector('.image-upload');
            imageUpload.style.backgroundImage = `url(${e.target.result})`; // Corrected template literal
            imageUpload.style.backgroundSize = 'cover'; // Cover the entire area
            imageUpload.style.backgroundPosition = 'center'; // Center the image
            imageUpload.style.color = 'transparent'; // Hide the text color
        }

        if (file) {
            reader.readAsDataURL(file); // Read the image file as a data URL
        }
    }
</script>

 <script>
     const signInBtn = document.getElementById("signIn");
const signUpBtn = document.getElementById("signUp");
const firstForm = document.getElementById("form1"); // Fix: changed 'fistForm' to 'firstForm'
const secondForm = document.getElementById("form2");
const container = document.querySelector(".container");

signInBtn.addEventListener("click", () => {
    container.classList.remove("right-panel-active");
});

signUpBtn.addEventListener("click", () => {
    container.classList.add("right-panel-active");
});

// Allow form submission, don't prevent default behavior for form1
firstForm.addEventListener("submit", (e) => {
    // No need to call e.preventDefault() here
});

// Prevent second form submission if you don't want it to submit
secondForm.addEventListener("submit", (e) => {
});

 </script>
